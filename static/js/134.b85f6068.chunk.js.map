{"version":3,"file":"static/js/134.b85f6068.chunk.js","mappings":"wQAOe,SAASA,IAAU,IAAD,EAC/B,GAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAwB3C,OAtBAC,EAAAA,EAAAA,YAAU,WAAM,wCAEd,8GAEuBC,EAAAA,EAAAA,IAAkBH,GAFzC,UAEUI,EAFV,OAGIR,EAAUQ,GACLA,EAAKC,OAJd,uBAKMC,EAAAA,GAAAA,KAAA,UAAcN,EAAd,eALN,4EASIO,QAAQC,IAAR,MATJ,2DAFc,sBACA,KAAVR,GADU,mCAcdS,EACD,GAAE,CAACT,KAQF,6BACE,SAAC,KAAD,CAAWU,SAPf,SAA0BC,GAExBZ,EAD8B,KAAXY,EAAgB,CAAEX,MAAOW,GAAW,CAAC,EAEzD,IAKIhB,IAAU,SAAC,KAAD,CAAcA,OAAQA,KACjC,SAAC,EAAAiB,SAAD,CAAUC,UAAU,SAAC,KAAD,IAApB,UACE,SAAC,KAAD,QAIP,C","sources":["pages/Movies.jsx"],"sourcesContent":["import { Searchbar } from 'components';\nimport { Outlet, useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from '../api/themoviedbAPI';\nimport { VideoGallery, Loader } from 'components';\nimport { useEffect, useState, Suspense } from 'react';\nimport { toast } from 'react-toastify';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query === '') return;\n    async function fetchMovie() {\n      try {\n        const data = await fetchSearchMovies(query);\n        setMovies(data);\n        if (!data.length) {\n          toast.info(`${query} not found`);\n          return;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchMovie();\n  }, [query]);\n\n  function handleFormSubmit(search) {\n    const nextParams = search !== '' ? { query: search } : {};\n    setSearchParams(nextParams);\n  }\n\n  return (\n    <main>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {movies && <VideoGallery movies={movies} />}\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n}\n"],"names":["Movies","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchSearchMovies","data","length","toast","console","log","fetchMovie","onSubmit","search","Suspense","fallback"],"sourceRoot":""}